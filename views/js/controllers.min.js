define("taoResultServer/controller/routes",[],function(){return{ResultServerMgt:{actions:{migrate:"controller/migrate"}}}}),define("taoResultServer/controller/migrate",["module","jquery","i18n","context","helpers"],function(module,$,__,context){var migrateRunner={start:function(){$(".opButton").click(function(){var operation=$(this).attr("id"),source=[],target=[],loaderPic=context.root_url+"/tao/views/img/ajax-loader.gif",migrateDataUrl=context.root_url+"taoResultServer/ResultServerMgt/migrateData";$("#selSource").empty(),$("#selTarget").empty(),$("#selOperation").empty(),$("#sourceStorage :checked").each(function(){source.push($(this).val()),label=$(this).parent().text();
$("<li />").html(label).appendTo("#selSource")}),$("#targetStorage :checked").each(function(){target.push($(this).val()),label=$(this).parent().text();$("<li />").text(label).appendTo("#selTarget")}),$("<label>"+operation+"</label>").appendTo("#selOperation"),$("#migrationProgress").attr("style","visibility: visible"),$("#migrationProgress").dialog({modal:!0,width:500,height:430,buttons:[{text:__("Cancel"),click:function(){$(this).dialog("close")}},{text:__("Migrate"),click:function(){$(" #migrationProgress").empty(),$('<img src="'+loaderPic+'" />').appendTo("#migrationProgress"),$.ajax({url:migrateDataUrl,type:"POST",data:{source:source,target:target,operation:operation},success:function(data){$(" #migrationProgress").empty(),$("<label>"+data+"<label>").appendTo("#migrationProgress"),$("#feedback").attr("style","visibility: visible"),$("#migrationProgress").dialog("close")
}})}}]})})}};return migrateRunner});
//# sourceMappingURL=routes.js.map